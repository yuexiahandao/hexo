title: mysql错误总结
date: 2014-10-14 17:06:19
tags: mysql
categories:
---
##找不到mysqld.sock - 1

今天打开workbench连接mysql，哎，居然连不上，仔细一看服务没启动于是去启动，发现启动不了！提示找不到sock这接字文件，但是这个文件是启动服务时自动生存的呀！于是在根目录下搜索sock，发现居然没有此mysqld.sock文件。顿时没有办法，于是乎去看日志文件，提示是没有建立TCP/IP的连接，问我是否有程序占用3306端口。所以我输入lsof -i TCP：3306，结果显示没有任何程序占用3306端口。接着使用ps和netstat命令查看，依然一无所获。哎，泪奔了。。。花了2个小时找问题。其实在我看到日志中提到TCP/IP连接时，我就想到了之前manager让我将my.cnf中的server ip设置为本机ip，之后我重启过电脑。程序员的敏感告诉我应该改会127.0.0.1，问题应该可以解决，但是我认为那不是问题，因为我找不到这样会出错的原因。所以没有试，末了没办法了，改吧！结果奇迹就这么出现了。运行sudo /etc/init.d/mysql start居然提示ok。瞬间晕死。哎！相信自己的直觉，看似不可能但是事实就是如此！这个玩笑开得有点大！
今天使用电脑，由于80端口被占用，所以查看哪个程序占用了80端口，结果发现一个陌生的ip，立马ifconfig查看一下本机的ip，原来是我的本机ip啊，那这个问题就说的通了。my.cnf配的是我之前的ip，而不知什么原因ip变了（一般公司电脑的ip不会变的），所以昨天就是启动不了mysql。原因就在这，由于建立不了TCP连接，自然也就生成不了mysqld.sock文件。由于后面的提示3306端口是否被占用，影响了我的判断。其实是ip地址错了！
